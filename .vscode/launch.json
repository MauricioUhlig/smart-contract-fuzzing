{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Confuzzius - Original",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/fuzzer/main.py",
            "console": "integratedTerminal",
            "args": [
                "--source", "${workspaceFolder}/${input:contractFile}",
                "-c", "${input:contractName}",
                "--solc", "v0.4.26",
                "--evm", "byzantium",
                "-g", "10",
                "--algorithm", "confuzzius",
                "--population-size", "40",
                "--probability-crossover", "0.8",
                "--probability-mutation", "0.35",
                "--data-dependency", "1"
            ]
        },
        {
            "name": "Collaborative",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/fuzzer/main.py",
            "console": "integratedTerminal",
            "args": [
                "--source", "${workspaceFolder}/${input:contractFile}",
                "--contract", "${input:contractName}",
                "--algorithm", "collaborative",
                "--generations", "20",
                "--population-size", "40",
                "--probability-crossover", "0.8",
                "--probability-mutation", "0.35",
                "--solc", "v0.4.26",
                "--evm", "byzantium",
                "-r", "${workspaceFolder}/results/collaborative",

                "--diversity", "1"
            ]
        },
        {
            "name": "Get contracts from folder",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/utils/solidity_parser.py",
            "console": "integratedTerminal",
            "args": [
                "${workspaceFolder}/${input:folderToExtractContracts}",
                "--json",
                "--output", "${workspaceFolder}/${input:ouputFileToSaveExtractedContracts}"
            ]
        },
        {
            "name": "Batch runner",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/utils/batch_invoker.py",
            "console": "integratedTerminal",
            "args": [
                "${workspaceFolder}/${input:ouputFileToSaveExtractedContracts}",
                "--algorithm", "collaborative",
                "--generations", "20",
                "--population-size", "40",
                "--diversity-weight", "0.5",
                "--novelty-threshold", "0.6",
                "--probability-crossover", "0.8",
                "--probability-mutation", "0.35",
                "--solc", "v0.4.26",
                "--evm", "byzantium",

                "--diversity", "1"


            ]
        },
        {
            "name": "Parallel Batch runner",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/utils/parallel_batch_runner.py",
            "console": "integratedTerminal",
            "args": [
                "${workspaceFolder}/${input:ouputFileToSaveExtractedContracts}",
                "${workspaceFolder}/${input:basePathContractsToRun}",
                "--solc", "v0.4.26",
                "--evm", "byzantium",
                "-t", "60",

                "--algorithm", "confuzzius",

                // "--algorithm", "collaborative",
                // "--population-size", "100",
                // "--probability-crossover", "0.9",
                // "--probability-mutation", "0.25",
                // "--data-dependency-weight", "0.5",
                // "--branch-weight", "0.5",
                // //"--unique-branch-weight", "5.0",
                // "--diversity", "1"
            ]
        },
        {
            "name": "Vulnerability Report",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/utils/vulnerability_report.py",
            "console": "integratedTerminal"
        },
        {
            "name": "Coverage Report",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/utils/report.py",
            "console": "integratedTerminal"
        }
    ],
    "inputs": [
        {
            "id": "contractFile",
            "type": "pickString",
            "description": "Select contract file:",
            "options": [
                "examples/RemiCoin/contracts/RemiCoin.sol",
                "examples/TokenSale/contracts/TokenSale.sol",
                "examples/ILF/crowdsale.sol"
            ],
            "default": "examples/RemiCoin/contracts/RemiCoin.sol"
        },
        {
            "id": "contractName",
            "type": "pickString",
            "description": "Enter the contract name:",
            "options": [
                "RemiCoin",
                "TokenSale",
                "Crowdsale"
            ],
            "default": "RemiCoin"
        },
        { 
            "id": "folderToExtractContracts",
            "type": "promptString",
            "description": "Folder where to extract contracts:",
            "default": "examples",
        },
        { 
            "id": "ouputFileToSaveExtractedContracts",
            "type": "promptString",
            "description": "Folder where to extract contracts",
            "default": "utils/result-smartbugs-curated.json",
        },
        { 
            "id": "basePathContractsToRun",
            "type": "promptString",
            "description": "Folder where to extract contracts",
            "default": "online-datasets/smartbugs-curated/dataset/",
        }
    ]
}